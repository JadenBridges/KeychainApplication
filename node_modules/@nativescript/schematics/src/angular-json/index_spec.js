"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@angular-devkit/schematics/testing");
const test_1 = require("@schematics/angular/utility/test");
const path = require("path");
describe('Angular JSON Config Schematic', () => {
    const schematicRunner = new testing_1.SchematicTestRunner('nativescript-schematics', path.join(__dirname, '../collection.json'));
    const appPath = 'foo';
    const defaultOptions = {
        name: 'test',
        path: appPath,
        prefix: 'app',
    };
    const configPath = `/${appPath}/angular.json`;
    it('should create all files of an application', () => {
        const options = Object.assign({}, defaultOptions);
        const tree = schematicRunner.runSchematic('angular-json', options);
        const files = tree.files;
        expect(files.indexOf(configPath)).toBeGreaterThanOrEqual(0);
    });
    it('should handle the prefix option', () => {
        const prefix = 'my-app-prefix';
        const options = Object.assign({}, defaultOptions, { prefix });
        const tree = schematicRunner.runSchematic('angular-json', options);
        expect(test_1.getFileContent(tree, configPath)).toContain(`"prefix": "${prefix}"`);
    });
});
//# sourceMappingURL=index_spec.js.map