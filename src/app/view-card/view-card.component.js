"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var core_1 = require("@angular/core");
var app = require("application");
var keychain_card_1 = require("../keychain-card");
var ZXing = require("nativescript-zxing");
var ImageSource = require("image-source");
var ViewCardComponent = /** @class */ (function () {
    function ViewCardComponent(keychaincardclass) {
        this.keychaincardclass = keychaincardclass;
        // Use the component constructor to inject providers.
        this.barcodeId = this.keychaincardclass.getBarcodeId();
        this.barcodeFormat = this.keychaincardclass.getBarcodeFormat();
        this.cardLoc = this.keychaincardclass.getCardLocation();
        this.cardName = this.keychaincardclass.getCardName();
    }
    ViewCardComponent.prototype.ngOnInit = function () {
        switch (this.barcodeFormat) {
            case "QR_CODE":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.QR_CODE //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
            case "UPC_A":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.UPC_A //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
            case "UPC_E":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.UPC_E //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
            case "AZTEC":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.AZTEC //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
            case "CODABAR":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.CODABAR //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
            case "CODE_39":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.CODE_39 //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
            case "CODE_93":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.CODE_93 //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
            case "CODE_128":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.CODE_128 //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
            case "DATA_MATRIX":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.DATA_MATRIX //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
            case "EAN_8":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.EAN_8 //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
            case "EAN_13":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.EAN_13 //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
            case "ITF":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.ITF //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
            case "MAXICODE":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.MAXICODE //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
            case "PDF_417":
                this.barcodeImage = this.barcodeImg.nativeElement;
                this.zx = new ZXing();
                this.newImg = this.zx.createBarcode({
                    encode: this.barcodeId,
                    format: ZXing.PDF_417 //format
                });
                this.barcodeImage.imageSource = ImageSource.fromNativeSource(this.newImg);
                break;
        }
    };
    ViewCardComponent.prototype.onDrawerButtonTap = function () {
        var sideDrawer = app.getRootView();
        sideDrawer.showDrawer();
    };
    tslib_1.__decorate([
        core_1.ViewChild("barcodeImg"),
        tslib_1.__metadata("design:type", core_1.ElementRef)
    ], ViewCardComponent.prototype, "barcodeImg", void 0);
    ViewCardComponent = tslib_1.__decorate([
        core_1.Component({
            selector: "ViewCard",
            moduleId: module.id,
            styleUrls: ["./view-card.component.css"],
            templateUrl: "./view-card.component.html"
        }),
        tslib_1.__metadata("design:paramtypes", [keychain_card_1.KeychainCardClass])
    ], ViewCardComponent);
    return ViewCardComponent;
}());
exports.ViewCardComponent = ViewCardComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlldy1jYXJkLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInZpZXctY2FyZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsc0NBQXlFO0FBQ3pFLGlDQUFtQztBQUduQyxrREFBcUQ7QUFFckQsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUM7QUFDNUMsSUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBUzVDO0lBYUksMkJBQW9CLGlCQUFvQztRQUFwQyxzQkFBaUIsR0FBakIsaUJBQWlCLENBQW1CO1FBQ3BELHFEQUFxRDtRQUNyRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUN2RCxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQy9ELElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3hELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3pELENBQUM7SUFFRCxvQ0FBUSxHQUFSO1FBQ0ksTUFBTSxDQUFBLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7WUFDeEIsS0FBSyxTQUFTO2dCQUNWLElBQUksQ0FBQyxZQUFZLEdBQVUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUM7Z0JBQ3pELElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQztvQkFDaEMsTUFBTSxFQUFFLElBQUksQ0FBQyxTQUFTO29CQUN0QixNQUFNLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FB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QkFDMUUsS0FBSyxDQUFDO1lBQ1YsS0FBSyxTQUFTO2dCQUNWLElBQUksQ0FBQyxZQUFZLEdBQVUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUM7Z0JBQ3pELElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQztvQkFDaEMsTUFBTSxFQUFFLElBQUksQ0FBQyxTQUFTO29CQUN0QixNQUFNLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQSxRQUFRO2lCQUNoQyxDQUFDLENBQUM7Z0JBQ0gsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDMUUsS0FBSyxDQUFDO1FBQ2QsQ0FBQztJQUNMLENBQUM7SUFFRCw2Q0FBaUIsR0FBakI7UUFDSSxJQUFNLFVBQVUsR0FBa0IsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3BELFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBekp3QjtRQUF4QixnQkFBUyxDQUFDLFlBQVksQ0FBQzswQ0FBYSxpQkFBVTt5REFBQztJQUZ2QyxpQkFBaUI7UUFQN0IsZ0JBQVMsQ0FBQztZQUNQLFFBQVEsRUFBRSxVQUFVO1lBQ3BCLFFBQVEsRUFBRSxNQUFNLENBQUMsRUFBRTtZQUNuQixTQUFTLEVBQUUsQ0FBQywyQkFBMkIsQ0FBQztZQUN4QyxXQUFXLEVBQUUsNEJBQTRCO1NBQzVDLENBQUM7aURBZXlDLGlDQUFpQjtPQWIvQyxpQkFBaUIsQ0E0SjdCO0lBQUQsd0JBQUM7Q0FBQSxBQTVKRCxJQTRKQztBQTVKWSw4Q0FBaUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgVmlld0NoaWxkLCBFbGVtZW50UmVmIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCAqIGFzIGFwcCBmcm9tIFwiYXBwbGljYXRpb25cIjtcbmltcG9ydCB7IFJhZFNpZGVEcmF3ZXIgfSBmcm9tIFwibmF0aXZlc2NyaXB0LXVpLXNpZGVkcmF3ZXJcIjtcbmltcG9ydCB7IEltYWdlIH0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvdWkvaW1hZ2VcIjtcbmltcG9ydCB7IEtleWNoYWluQ2FyZENsYXNzIH0gZnJvbSBcIi4uL2tleWNoYWluLWNhcmRcIjtcblxuY29uc3QgWlhpbmcgPSByZXF1aXJlKFwibmF0aXZlc2NyaXB0LXp4aW5nXCIpO1xuY29uc3QgSW1hZ2VTb3VyY2UgPSByZXF1aXJlKFwiaW1hZ2Utc291cmNlXCIpO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogXCJWaWV3Q2FyZFwiLFxuICAgIG1vZHVsZUlkOiBtb2R1bGUuaWQsXG4gICAgc3R5bGVVcmxzOiBbXCIuL3ZpZXctY2FyZC5jb21wb25lbnQuY3NzXCJdLFxuICAgIHRlbXBsYXRlVXJsOiBcIi4vdmlldy1jYXJkLmNvbXBvbmVudC5odG1sXCJcbn0pXG5cbmV4cG9ydCBjbGFzcyBWaWV3Q2FyZENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBAVmlld0NoaWxkKFwiYmFyY29kZUltZ1wiKSBiYXJjb2RlSW1nOiBFbGVtZW50UmVmO1xuXG4gICAgcHJpdmF0ZSBiYXJjb2RlSWQ6IHN0cmluZztcbiAgICBwcml2YXRlIGJhcmNvZGVGb3JtYXQ6IHN0cmluZztcbiAgICBwcml2YXRlIGNhcmRMb2M6IHN0cmluZztcbiAgICBwcml2YXRlIGNhcmROYW1lOiBzdHJpbmc7XG5cbiAgICBiYXJjb2RlSW1hZ2U6IGFueTtcbiAgICB6eDogYW55O1xuICAgIG5ld0ltZzogYW55O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBrZXljaGFpbmNhcmRjbGFzczogS2V5Y2hhaW5DYXJkQ2xhc3MpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBjb21wb25lbnQgY29uc3RydWN0b3IgdG8gaW5qZWN0IHByb3ZpZGVycy5cbiAgICAgICAgdGhpcy5iYXJjb2RlSWQgPSB0aGlzLmtleWNoYWluY2FyZGNsYXNzLmdldEJhcmNvZGVJZCgpO1xuICAgICAgICB0aGlzLmJhcmNvZGVGb3JtYXQgPSB0aGlzLmtleWNoYWluY2FyZGNsYXNzLmdldEJhcmNvZGVGb3JtYXQoKTtcbiAgICAgICAgdGhpcy5jYXJkTG9jID0gdGhpcy5rZXljaGFpbmNhcmRjbGFzcy5nZXRDYXJkTG9jYXRpb24oKTtcbiAgICAgICAgdGhpcy5jYXJkTmFtZSA9IHRoaXMua2V5Y2hhaW5jYXJkY2xhc3MuZ2V0Q2FyZE5hbWUoKTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICAgICAgc3dpdGNoKHRoaXMuYmFyY29kZUZvcm1hdCkge1xuICAgICAgICAgICAgY2FzZSBcIlFSX0NPREVcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmJhcmNvZGVJbWFnZSA9IDxJbWFnZT50aGlzLmJhcmNvZGVJbWcubmF0aXZlRWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnp4ID0gbmV3IFpYaW5nKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdJbWcgPSB0aGlzLnp4LmNyZWF0ZUJhcmNvZGUoe1xuICAgICAgICAgICAgICAgICAgICBlbmNvZGU6IHRoaXMuYmFyY29kZUlkLC8vZGF0YVxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IFpYaW5nLlFSX0NPREUvL2Zvcm1hdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFyY29kZUltYWdlLmltYWdlU291cmNlID0gSW1hZ2VTb3VyY2UuZnJvbU5hdGl2ZVNvdXJjZSh0aGlzLm5ld0ltZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiVVBDX0FcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmJhcmNvZGVJbWFnZSA9IDxJbWFnZT50aGlzLmJhcmNvZGVJbWcubmF0aXZlRWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnp4ID0gbmV3IFpYaW5nKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdJbWcgPSB0aGlzLnp4LmNyZWF0ZUJhcmNvZGUoe1xuICAgICAgICAgICAgICAgICAgICBlbmNvZGU6IHRoaXMuYmFyY29kZUlkLC8vZGF0YVxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IFpYaW5nLlVQQ19BLy9mb3JtYXRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhcmNvZGVJbWFnZS5pbWFnZVNvdXJjZSA9IEltYWdlU291cmNlLmZyb21OYXRpdmVTb3VyY2UodGhpcy5uZXdJbWcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIlVQQ19FXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5iYXJjb2RlSW1hZ2UgPSA8SW1hZ2U+dGhpcy5iYXJjb2RlSW1nLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy56eCA9IG5ldyBaWGluZygpO1xuICAgICAgICAgICAgICAgIHRoaXMubmV3SW1nID0gdGhpcy56eC5jcmVhdGVCYXJjb2RlKHtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlOiB0aGlzLmJhcmNvZGVJZCwvL2RhdGFcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBaWGluZy5VUENfRS8vZm9ybWF0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXJjb2RlSW1hZ2UuaW1hZ2VTb3VyY2UgPSBJbWFnZVNvdXJjZS5mcm9tTmF0aXZlU291cmNlKHRoaXMubmV3SW1nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJBWlRFQ1wiOlxuICAgICAgICAgICAgICAgIHRoaXMuYmFyY29kZUltYWdlID0gPEltYWdlPnRoaXMuYmFyY29kZUltZy5uYXRpdmVFbGVtZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuenggPSBuZXcgWlhpbmcoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5ld0ltZyA9IHRoaXMuenguY3JlYXRlQmFyY29kZSh7XG4gICAgICAgICAgICAgICAgICAgIGVuY29kZTogdGhpcy5iYXJjb2RlSWQsLy9kYXRhXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogWlhpbmcuQVpURUMvL2Zvcm1hdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFyY29kZUltYWdlLmltYWdlU291cmNlID0gSW1hZ2VTb3VyY2UuZnJvbU5hdGl2ZVNvdXJjZSh0aGlzLm5ld0ltZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQ09EQUJBUlwiOlxuICAgICAgICAgICAgICAgIHRoaXMuYmFyY29kZUltYWdlID0gPEltYWdlPnRoaXMuYmFyY29kZUltZy5uYXRpdmVFbGVtZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuenggPSBuZXcgWlhpbmcoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5ld0ltZyA9IHRoaXMuenguY3JlYXRlQmFyY29kZSh7XG4gICAgICAgICAgICAgICAgICAgIGVuY29kZTogdGhpcy5iYXJjb2RlSWQsLy9kYXRhXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogWlhpbmcuQ09EQUJBUi8vZm9ybWF0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXJjb2RlSW1hZ2UuaW1hZ2VTb3VyY2UgPSBJbWFnZVNvdXJjZS5mcm9tTmF0aXZlU291cmNlKHRoaXMubmV3SW1nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJDT0RFXzM5XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5iYXJjb2RlSW1hZ2UgPSA8SW1hZ2U+dGhpcy5iYXJjb2RlSW1nLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy56eCA9IG5ldyBaWGluZygpO1xuICAgICAgICAgICAgICAgIHRoaXMubmV3SW1nID0gdGhpcy56eC5jcmVhdGVCYXJjb2RlKHtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlOiB0aGlzLmJhcmNvZGVJZCwvL2RhdGFcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBaWGluZy5DT0RFXzM5Ly9mb3JtYXRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhcmNvZGVJbWFnZS5pbWFnZVNvdXJjZSA9IEltYWdlU291cmNlLmZyb21OYXRpdmVTb3VyY2UodGhpcy5uZXdJbWcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkNPREVfOTNcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmJhcmNvZGVJbWFnZSA9IDxJbWFnZT50aGlzLmJhcmNvZGVJbWcubmF0aXZlRWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnp4ID0gbmV3IFpYaW5nKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdJbWcgPSB0aGlzLnp4LmNyZWF0ZUJhcmNvZGUoe1xuICAgICAgICAgICAgICAgICAgICBlbmNvZGU6IHRoaXMuYmFyY29kZUlkLC8vZGF0YVxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IFpYaW5nLkNPREVfOTMvL2Zvcm1hdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFyY29kZUltYWdlLmltYWdlU291cmNlID0gSW1hZ2VTb3VyY2UuZnJvbU5hdGl2ZVNvdXJjZSh0aGlzLm5ld0ltZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQ09ERV8xMjhcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmJhcmNvZGVJbWFnZSA9IDxJbWFnZT50aGlzLmJhcmNvZGVJbWcubmF0aXZlRWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnp4ID0gbmV3IFpYaW5nKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdJbWcgPSB0aGlzLnp4LmNyZWF0ZUJhcmNvZGUoe1xuICAgICAgICAgICAgICAgICAgICBlbmNvZGU6IHRoaXMuYmFyY29kZUlkLC8vZGF0YVxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IFpYaW5nLkNPREVfMTI4Ly9mb3JtYXRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhcmNvZGVJbWFnZS5pbWFnZVNvdXJjZSA9IEltYWdlU291cmNlLmZyb21OYXRpdmVTb3VyY2UodGhpcy5uZXdJbWcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkRBVEFfTUFUUklYXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5iYXJjb2RlSW1hZ2UgPSA8SW1hZ2U+dGhpcy5iYXJjb2RlSW1nLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy56eCA9IG5ldyBaWGluZygpO1xuICAgICAgICAgICAgICAgIHRoaXMubmV3SW1nID0gdGhpcy56eC5jcmVhdGVCYXJjb2RlKHtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlOiB0aGlzLmJhcmNvZGVJZCwvL2RhdGFcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBaWGluZy5EQVRBX01BVFJJWC8vZm9ybWF0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXJjb2RlSW1hZ2UuaW1hZ2VTb3VyY2UgPSBJbWFnZVNvdXJjZS5mcm9tTmF0aXZlU291cmNlKHRoaXMubmV3SW1nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJFQU5fOFwiOlxuICAgICAgICAgICAgICAgIHRoaXMuYmFyY29kZUltYWdlID0gPEltYWdlPnRoaXMuYmFyY29kZUltZy5uYXRpdmVFbGVtZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuenggPSBuZXcgWlhpbmcoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5ld0ltZyA9IHRoaXMuenguY3JlYXRlQmFyY29kZSh7XG4gICAgICAgICAgICAgICAgICAgIGVuY29kZTogdGhpcy5iYXJjb2RlSWQsLy9kYXRhXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogWlhpbmcuRUFOXzgvL2Zvcm1hdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFyY29kZUltYWdlLmltYWdlU291cmNlID0gSW1hZ2VTb3VyY2UuZnJvbU5hdGl2ZVNvdXJjZSh0aGlzLm5ld0ltZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiRUFOXzEzXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5iYXJjb2RlSW1hZ2UgPSA8SW1hZ2U+dGhpcy5iYXJjb2RlSW1nLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy56eCA9IG5ldyBaWGluZygpO1xuICAgICAgICAgICAgICAgIHRoaXMubmV3SW1nID0gdGhpcy56eC5jcmVhdGVCYXJjb2RlKHtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlOiB0aGlzLmJhcmNvZGVJZCwvL2RhdGFcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBaWGluZy5FQU5fMTMvL2Zvcm1hdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFyY29kZUltYWdlLmltYWdlU291cmNlID0gSW1hZ2VTb3VyY2UuZnJvbU5hdGl2ZVNvdXJjZSh0aGlzLm5ld0ltZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiSVRGXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5iYXJjb2RlSW1hZ2UgPSA8SW1hZ2U+dGhpcy5iYXJjb2RlSW1nLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy56eCA9IG5ldyBaWGluZygpO1xuICAgICAgICAgICAgICAgIHRoaXMubmV3SW1nID0gdGhpcy56eC5jcmVhdGVCYXJjb2RlKHtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlOiB0aGlzLmJhcmNvZGVJZCwvL2RhdGFcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBaWGluZy5JVEYvL2Zvcm1hdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFyY29kZUltYWdlLmltYWdlU291cmNlID0gSW1hZ2VTb3VyY2UuZnJvbU5hdGl2ZVNvdXJjZSh0aGlzLm5ld0ltZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiTUFYSUNPREVcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmJhcmNvZGVJbWFnZSA9IDxJbWFnZT50aGlzLmJhcmNvZGVJbWcubmF0aXZlRWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnp4ID0gbmV3IFpYaW5nKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdJbWcgPSB0aGlzLnp4LmNyZWF0ZUJhcmNvZGUoe1xuICAgICAgICAgICAgICAgICAgICBlbmNvZGU6IHRoaXMuYmFyY29kZUlkLC8vZGF0YVxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IFpYaW5nLk1BWElDT0RFLy9mb3JtYXRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhcmNvZGVJbWFnZS5pbWFnZVNvdXJjZSA9IEltYWdlU291cmNlLmZyb21OYXRpdmVTb3VyY2UodGhpcy5uZXdJbWcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIlBERl80MTdcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmJhcmNvZGVJbWFnZSA9IDxJbWFnZT50aGlzLmJhcmNvZGVJbWcubmF0aXZlRWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnp4ID0gbmV3IFpYaW5nKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdJbWcgPSB0aGlzLnp4LmNyZWF0ZUJhcmNvZGUoe1xuICAgICAgICAgICAgICAgICAgICBlbmNvZGU6IHRoaXMuYmFyY29kZUlkLC8vZGF0YVxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IFpYaW5nLlBERl80MTcvL2Zvcm1hdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFyY29kZUltYWdlLmltYWdlU291cmNlID0gSW1hZ2VTb3VyY2UuZnJvbU5hdGl2ZVNvdXJjZSh0aGlzLm5ld0ltZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9ICBcblxuICAgIG9uRHJhd2VyQnV0dG9uVGFwKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBzaWRlRHJhd2VyID0gPFJhZFNpZGVEcmF3ZXI+YXBwLmdldFJvb3RWaWV3KCk7XG4gICAgICAgIHNpZGVEcmF3ZXIuc2hvd0RyYXdlcigpO1xuICAgIH1cbn0iXX0=